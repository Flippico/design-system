{"version":3,"file":"flp-login.stories-DeNW7bMV.js","sources":["../node_modules/@lit/react/create-component.js","../src/components/flp-card/index.ts","../src/components/flp-button/index.ts","../src/components/flp-input/index.ts","../src/components/flp-logo/index.ts","../src/components/flp-divider/index.ts","../src/containers/flp-login/flp-login.styles.ts","../src/containers/flp-login/flp-login.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst e=new Set([\"children\",\"localName\",\"ref\",\"style\",\"className\"]),n=new WeakMap,t=(e,t,l,o,a)=>{const s=a?.[t];void 0===s||l===o?(e[t]=l,null==l&&t in HTMLElement.prototype&&e.removeAttribute(t)):((e,t,l)=>{let o=n.get(e);void 0===o&&n.set(e,o=new Map);let a=o.get(t);void 0!==l?void 0===a?(o.set(t,a={handleEvent:l}),e.addEventListener(t,a)):a.handleEvent=l:void 0!==a&&(o.delete(t),e.removeEventListener(t,a))})(e,s,l)},l=({react:n,tagName:l,elementClass:o,events:a,displayName:s})=>{const c=new Set(Object.keys(a??{})),i=n.forwardRef(((s,i)=>{const r=n.useRef(null),d=n.useRef(null),f={},u={};for(const[n,t]of Object.entries(s))e.has(n)?f[\"className\"===n?\"class\":n]=t:c.has(n)||n in o.prototype?u[n]=t:f[n]=t;return n.useLayoutEffect((()=>{if(null!==d.current){for(const e in u)t(d.current,e,s[e],r.current?r.current[e]:void 0,a);r.current=s}})),n.useLayoutEffect((()=>{d.current?.removeAttribute(\"defer-hydration\")}),[]),f.suppressHydrationWarning=!0,n.createElement(l,{...f,ref:e=>{d.current=e,\"function\"==typeof i?i(e):null!==i&&(i.current=e)}})}));return i.displayName=s??o.name,i};export{l as createComponent};\n//# sourceMappingURL=create-component.js.map\n","import { FlpCard as FlpCardRaw } from './flp-card.js';\nimport * as React from 'react';\nimport { createComponent } from '@lit/react';\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'flp-card': FlpCardRaw;\n  }\n}\n\nconst FlpCard = createComponent({\n  tagName: 'flp-card',\n  elementClass: FlpCardRaw,\n  react: React,\n  events: {\n  },\n  displayName: 'FlpCard'\n});\n\nexport {\n  FlpCard\n};","import * as React from 'react';\nimport { FlpButton as FlpButtonRaw } from './flp-button.js';\nimport { EventName, createComponent } from '@lit/react';\nimport type { FlpBlurEvent, FlpFocusEvent, FlpInvalidEvent } from '../../events/index.js';\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'flp-button': FlpButtonRaw;\n  }\n}\n\nconst FlpButton = createComponent({\n  tagName: 'flp-button',\n  elementClass: FlpButtonRaw,\n  react: React,\n  events: {\n    onFlpBlur: 'flp-blur' as EventName<FlpBlurEvent>,\n    onFlpFocus: 'flp-focus' as EventName<FlpFocusEvent>,\n    onFlpInvalid: 'flp-invalid' as EventName<FlpInvalidEvent>\n  },\n  displayName: 'FlpButton'\n});\n\nexport { \n  FlpButton\n};","import { FlpInput as FlpInputRaw } from './flp-input.js';\nimport * as React from 'react';\nimport { EventName, createComponent } from '@lit/react';\nimport { FlpBlurEvent, FlpChangeEvent, FlpClearEvent, FlpFocusEvent, FlpInputEvent } from '../../events/index.js';\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'flp-input': FlpInputRaw;\n  }\n}\n\nconst FlpInput = createComponent({\n  tagName: 'flp-input',\n  elementClass: FlpInputRaw,\n  react: React,\n  events: {\n    onFlpClear: 'flp-clear' as EventName<FlpClearEvent>,\n    onFlpInput: 'flp-input' as EventName<FlpInputEvent>,\n    onFlpChange: 'flp-change' as EventName<FlpChangeEvent>,\n    onFlpBlur: 'flp-blur' as EventName<FlpBlurEvent>,\n    onFlpFocus: 'flp-focus' as EventName<FlpFocusEvent>,\n  },\n  displayName: 'FlpInput'\n});\n\nexport { FlpInput };","import { FlpLogo as FlpLogoRaw } from './flp-logo.js';\nimport * as React from 'react';\nimport { createComponent } from '@lit/react';\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'flp-logo': FlpLogoRaw;\n  }\n}\n\nconst FlpLogo = createComponent({\n  tagName: 'flp-logo',\n  elementClass: FlpLogoRaw,\n  react: React,\n  events: {\n  },\n  displayName: 'FlpLogo'\n});\n\nexport {\n  FlpLogo\n};","import { FlpDivider as FlpDividerRaw } from './flp-divider.js';\nimport * as React from 'react';\nimport { createComponent } from '@lit/react';\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'flp-divider': FlpDividerRaw;\n  }\n}\n\nconst FlpDivider = createComponent({\n  tagName: 'flp-divider',\n  elementClass: FlpDividerRaw,\n  react: React,\n  events: {\n  },\n  displayName: 'FlpDivider'\n});\n\nexport {\n  FlpDivider\n};","import { css } from 'lit';\n\nexport const flippico = css`\n\n.auth-container {\n  max-width: 450px;\n  width: 100%;\n}\n\n.logo-container {\n  text-align: center;\n}\n\nflp-input {\n  margin-bottom: 20px;\n}\n\nflp-button {\n  width: 100%;\n}\n\n.error {\n  color: var(--flp-color-warning-700);\n}\n`;","import { CSSResultGroup, html } from 'lit';\nimport FlpElement from '../../utils/flippico-element';\nimport {customElement, property, state} from 'lit/decorators.js';\nimport \"./../../components/flp-card\";\nimport \"./../../components/flp-button\";\nimport \"./../../components/flp-input\";\nimport \"./../../components/flp-logo\";\nimport \"./../../components/flp-divider\";\nimport { flippico } from './flp-login.styles';\n\n/**\n * @summary This the flp-login component\n *\n * @tag flp-login\n */\n @customElement(\"flp-login\")\nexport class FlpLogin extends FlpElement {\n  static styles: CSSResultGroup = [flippico];\n\n  @property({ attribute: \"tenant_key\" }) tenantKey = '';\n  @property({ attribute: \"login_callback\" }) loginCallback = '';\n  @property({ attribute: \"logout_callback\" }) logoutCallback = '';\n\n  @state() errorText: null | string;\n\n  async onSubmitHandle(event: any) {\n    event.preventDefault();\n    const formData = new FormData(event.target);\n    if (Array.from(formData.values()).some(item => item === '')) {\n      this.errorText = 'Error'\n      return;\n    }\n    console.log('email', formData.get('email'));\n    console.log('password', formData.get('password'));\n    console.log('tenant_key', formData.get('tenant_key'));\n    console.log('login_callback', formData.get('login_callback'));\n    console.log('logout_callback', formData.get('logout_callback'));\n    this.errorText = null;\n    const res = await fetch(`https://staging.amadeus.flippi.co/${formData.get('tenant_key')}/login`, {\n      method: \"POST\",\n      body: formData,\n    }).catch(() => this.errorText = \"Error while send to API\");\n    console.log('res', res);\n  }\n\n  render() {\n    return html`\n    <flp-card class=\"auth-container\">\n      <form @submit=${this.onSubmitHandle}>\n        <div class=\"logo-container\">\n          <flp-logo></flp-logo>\n        </div>\n        <flp-divider></flp-divider>\n        <flp-input type=\"email\" required name=\"email\" label=\"Email\"></flp-input>\n        <flp-input name=\"password\" error=\"sds\" required type=\"password\" label=\"Password\" password-toggle></flp-input>\n        <flp-button variant=\"primary\" type=\"submit\">Login</flp-button>\n        <input type=\"hidden\" name=\"tenant_key\" value=${this.tenantKey}/>\n        <input type=\"hidden\" name=\"login_callback\" value=${this.loginCallback} />\n        <input type=\"hidden\" name=\"logout_callback\" value=${this.logoutCallback} />\n        <br/>\n        <br/>\n        <span class=\"error\">${this.errorText}</span>\n      </form>\n    </flp-card>`;\n  }\n}\n"],"names":["e","n","t","l","o","s","a","i","r","d","f","u","_a","createComponent","FlpCardRaw","React","FlpButtonRaw","FlpInputRaw","FlpLogoRaw","FlpDividerRaw","flippico","css","FlpLogin","FlpElement","event","formData","item","res","html","__decorateClass","property","state","customElement"],"mappings":"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","x_google_ignoreList":[0]}