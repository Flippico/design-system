{"version":3,"file":"flp-menu-item-FMJIWeWI.js","sources":["../src/components/flp-menu/flp-menu.styles.ts","../src/components/flp-menu/flp-menu.ts","../src/components/flp-menu-item/flp-menu-item.styles.ts","../node_modules/lit-html/async-directive.js","../node_modules/lit-html/directives/ref.js","../src/components/flp-menu-item/submenu-controller.ts","../src/components/flp-menu-item/flp-menu-item.ts"],"sourcesContent":["import { css } from 'lit';\nimport componentStyles from '../../styles/component.styles';\n\nexport const flippico = css`\n${componentStyles}\n\n:host {\n  display: block;\n  position: relative;\n  background: var(--flp-panel-background-color);\n  border: solid var(--flp-panel-border-width) var(--flp-panel-border-color);\n  border-radius: var(--flp-border-radius-medium);\n  padding: var(--flp-spacing-x-small) 0;\n  overflow: auto;\n  overscroll-behavior: none;\n}\n\n::slotted(sl-divider) {\n  --spacing: var(--flp-spacing-x-small);\n}\n`;","import { CSSResultGroup, html } from 'lit';\nimport FlpElement from '../../utils/flippico-element';\nimport {customElement, query} from 'lit/decorators.js';\n\nimport { flippico } from './flp-menu.styles';\nimport type { FlpMenuItem } from '../flp-menu-item/flp-menu-item';\n\nexport interface MenuSelectEventDetail {\n  item: FlpMenuItem;\n}\n\n\n/**\n * @summary This the flp-menu component\n *\n * @tag flp-menu\n */\n @customElement(\"flp-menu\")\nexport class FlpMenu extends FlpElement {\n  static styles: CSSResultGroup = [flippico];\n\n  @query('slot') defaultSlot: HTMLSlotElement;\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.setAttribute('role', 'menu');\n  }\n\n  private handleClick(event: MouseEvent) {\n    const menuItemTypes = ['menuitem', 'menuitemcheckbox'];\n\n    // @ts-ignore\n    const target = event.composedPath().find((el: Element) => menuItemTypes.includes(el?.getAttribute?.('role') || ''));\n\n    if (!target) return;\n\n    // This isn't true. But we use it for TypeScript checks below.\n    const item = target as FlpMenuItem;\n\n    if (item.type === 'checkbox') {\n      item.checked = !item.checked;\n    }\n\n    this.emit('flp-select', { detail: { item } });\n  }\n\n  private handleKeyDown(event: KeyboardEvent) {\n    // Make a selection when pressing enter or space\n    if (event.key === 'Enter' || event.key === ' ') {\n      const item = this.getCurrentItem();\n      event.preventDefault();\n      event.stopPropagation();\n\n      // Simulate a click to support @click handlers on menu items that also work with the keyboard\n      item?.click();\n    }\n\n    // Move the selection when pressing down or up\n    else if (['ArrowDown', 'ArrowUp', 'Home', 'End'].includes(event.key)) {\n      const items = this.getAllItems();\n      const activeItem = this.getCurrentItem();\n      let index = activeItem ? items.indexOf(activeItem) : 0;\n\n      if (items.length > 0) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        if (event.key === 'ArrowDown') {\n          index++;\n        } else if (event.key === 'ArrowUp') {\n          index--;\n        } else if (event.key === 'Home') {\n          index = 0;\n        } else if (event.key === 'End') {\n          index = items.length - 1;\n        }\n\n        if (index < 0) {\n          index = items.length - 1;\n        }\n        if (index > items.length - 1) {\n          index = 0;\n        }\n\n        this.setCurrentItem(items[index]);\n        items[index].focus();\n      }\n    }\n  }\n\n  private handleMouseDown(event: MouseEvent) {\n    const target = event.target as HTMLElement;\n\n    if (this.isMenuItem(target)) {\n      this.setCurrentItem(target as FlpMenuItem);\n    }\n  }\n\n  private handleSlotChange() {\n    const items = this.getAllItems();\n\n    // Reset the roving tab index when the slotted items change\n    if (items.length > 0) {\n      this.setCurrentItem(items[0]);\n    }\n  }\n\n  private isMenuItem(item: HTMLElement) {\n    return (\n      item.tagName.toLowerCase() === 'flp-menu-item' ||\n      ['menuitem', 'menuitemcheckbox', 'menuitemradio'].includes(item.getAttribute('role') ?? '')\n    );\n  }\n\n  /** @internal Gets all slotted menu items, ignoring dividers, headers, and other elements. */\n  getAllItems() {\n    // @ts-ignore\n    return [...this.defaultSlot.assignedElements({ flatten: true })].filter((el: HTMLElement) => {\n      if (el.inert || !this.isMenuItem(el)) {\n        return false;\n      }\n      return true;\n    }) as FlpMenuItem[];\n  }\n\n  /**\n   * @internal Gets the current menu item, which is the menu item that has `tabindex=\"0\"` within the roving tab index.\n   * The menu item may or may not have focus, but for keyboard interaction purposes it's considered the \"active\" item.\n   */\n  getCurrentItem() {\n    return this.getAllItems().find(i => i.getAttribute('tabindex') === '0');\n  }\n\n  /**\n   * @internal Sets the current menu item to the specified element. This sets `tabindex=\"0\"` on the target element and\n   * `tabindex=\"-1\"` to all other items. This method must be called prior to setting focus on a menu item.\n   */\n  setCurrentItem(item: FlpMenuItem) {\n    const items = this.getAllItems();\n\n    // Update tab indexes\n    items.forEach(i => {\n      i.setAttribute('tabindex', i === item ? '0' : '-1');\n    });\n  }\n\n  render() {\n    return html`\n      <slot\n        @slotchange=${this.handleSlotChange}\n        @click=${this.handleClick}\n        @keydown=${this.handleKeyDown}\n        @mousedown=${this.handleMouseDown}\n      ></slot>\n    `;\n  }\n}\n","import { css } from 'lit';\nimport componentStyles from '../../styles/component.styles';\n\nexport const flippico = css`\n${componentStyles}\n\n:host {\n  --submenu-offset: -2px;\n\n  display: block;\n}\n\n:host([inert]) {\n  display: none;\n}\n\n.menu-item {\n  position: relative;\n  display: flex;\n  align-items: stretch;\n  font-family: var(--flp-font-light);\n  font-size: var(--flp-font-size-medium);\n  font-weight: var(--flp-font-weight-normal);\n  line-height: var(--flp-line-height-normal);\n  letter-spacing: var(--flp-letter-spacing-normal);\n  color: var(--flp-color-neutral-700);\n  padding: var(--flp-spacing-2x-small) var(--flp-spacing-2x-small);\n  transition: var(--flp-transition-fast) fill;\n  user-select: none;\n  -webkit-user-select: none;\n  white-space: nowrap;\n  cursor: pointer;\n}\n\n.menu-item.menu-item--disabled {\n  outline: none;\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.menu-item.menu-item--loading {\n  outline: none;\n  cursor: wait;\n}\n\n.menu-item.menu-item--loading *:not(sl-spinner) {\n  opacity: 0.5;\n}\n\n.menu-item--loading sl-spinner {\n  --indicator-color: currentColor;\n  --track-width: 1px;\n  position: absolute;\n  font-size: 0.75em;\n  top: calc(50% - 0.5em);\n  left: 0.65rem;\n  opacity: 1;\n}\n\n.menu-item .menu-item__label {\n  flex: 1 1 auto;\n  display: inline-block;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.menu-item .menu-item__prefix {\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n}\n\n.menu-item .menu-item__prefix::slotted(*) {\n  margin-inline-end: var(--flp-spacing-x-small);\n}\n\n.menu-item .menu-item__suffix {\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n}\n\n.menu-item .menu-item__suffix::slotted(*) {\n  margin-inline-start: var(--flp-spacing-x-small);\n}\n\n/* Safe triangle */\n.menu-item--submenu-expanded::after {\n  content: '';\n  position: fixed;\n  z-index: calc(var(--flp-z-index-dropdown) - 1);\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: tomato;\n  clip-path: polygon(\n    var(--safe-triangle-cursor-x, 0) var(--safe-triangle-cursor-y, 0),\n    var(--safe-triangle-submenu-start-x, 0) var(--safe-triangle-submenu-start-y, 0),\n    var(--safe-triangle-submenu-end-x, 0) var(--safe-triangle-submenu-end-y, 0)\n  );\n}\n\n:host(:focus-visible) {\n  outline: none;\n}\n\n:host(:hover:not([aria-disabled='true'], :focus-visible)) .menu-item,\n.menu-item--submenu-expanded {\n  background-color: var(--flp-color-neutral-100);\n  color: var(--flp-color-neutral-1000);\n}\n\n:host(:focus-visible) .menu-item {\n  outline: none;\n  background-color: var(--flp-color-primary-600);\n  color: var(--flp-color-neutral-0);\n  opacity: 1;\n}\n\n.menu-item .menu-item__check,\n.menu-item .menu-item__chevron {\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 1.5em;\n  visibility: hidden;\n}\n\n.menu-item--checked .menu-item__check,\n.menu-item--has-submenu .menu-item__chevron {\n  visibility: visible;\n}\n\n/* Add elevation and z-index to submenus */\nsl-popup::part(popup) {\n  box-shadow: var(--flp-shadow-large);\n  z-index: var(--flp-z-index-dropdown);\n  margin-left: var(--submenu-offset);\n}\n\n.menu-item--rtl sl-popup::part(popup) {\n  margin-left: calc(-1 * var(--submenu-offset));\n}\n\n@media (forced-colors: active) {\n  :host(:hover:not([aria-disabled='true'])) .menu-item,\n  :host(:focus-visible) .menu-item {\n    outline: dashed 1px SelectedItem;\n    outline-offset: -1px;\n  }\n}\n`;","import{isSingleExpression as i}from\"./directive-helpers.js\";import{Directive as t,PartType as e}from\"./directive.js\";export{directive}from\"./directive.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const s=(i,t)=>{const e=i._$AN;if(void 0===e)return!1;for(const i of e)i._$AO?.(t,!1),s(i,t);return!0},o=i=>{let t,e;do{if(void 0===(t=i._$AM))break;e=t._$AN,e.delete(i),i=t}while(0===e?.size)},r=i=>{for(let t;t=i._$AM;i=t){let e=t._$AN;if(void 0===e)t._$AN=e=new Set;else if(e.has(i))break;e.add(i),c(t)}};function h(i){void 0!==this._$AN?(o(this),this._$AM=i,r(this)):this._$AM=i}function n(i,t=!1,e=0){const r=this._$AH,h=this._$AN;if(void 0!==h&&0!==h.size)if(t)if(Array.isArray(r))for(let i=e;i<r.length;i++)s(r[i],!1),o(r[i]);else null!=r&&(s(r,!1),o(r));else s(this,i)}const c=i=>{i.type==e.CHILD&&(i._$AP??=n,i._$AQ??=h)};class f extends t{constructor(){super(...arguments),this._$AN=void 0}_$AT(i,t,e){super._$AT(i,t,e),r(this),this.isConnected=i._$AU}_$AO(i,t=!0){i!==this.isConnected&&(this.isConnected=i,i?this.reconnected?.():this.disconnected?.()),t&&(s(this,i),o(this))}setValue(t){if(i(this._$Ct))this._$Ct._$AI(t,this);else{const i=[...this._$Ct._$AH];i[this._$Ci]=t,this._$Ct._$AI(i,this,0)}}disconnected(){}reconnected(){}}export{f as AsyncDirective,t as Directive,e as PartType};\n//# sourceMappingURL=async-directive.js.map\n","import{nothing as t}from\"../lit-html.js\";import{AsyncDirective as i}from\"../async-directive.js\";import{directive as s}from\"../directive.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const e=()=>new h;class h{}const o=new WeakMap,n=s(class extends i{render(i){return t}update(i,[s]){const e=s!==this.G;return e&&void 0!==this.G&&this.rt(void 0),(e||this.lt!==this.ct)&&(this.G=s,this.ht=i.options?.host,this.rt(this.ct=i.element)),t}rt(t){if(this.isConnected||(t=void 0),\"function\"==typeof this.G){const i=this.ht??globalThis;let s=o.get(i);void 0===s&&(s=new WeakMap,o.set(i,s)),void 0!==s.get(this.G)&&this.G.call(this.ht,void 0),s.set(this.G,t),void 0!==t&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){return\"function\"==typeof this.G?o.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});export{e as createRef,n as ref};\n//# sourceMappingURL=ref.js.map\n","import { createRef, ref, type Ref } from 'lit/directives/ref.js';\nimport { html } from 'lit';\nimport type { ReactiveController, ReactiveControllerHost } from 'lit';\n\nimport type { FlpPopup } from '../flp-popup/flp-popup.js';\nimport { FlpMenuItem } from './flp-menu-item.js';\nimport { HasSlotController } from '../../utils/slot.js';\n\n\n/** A reactive controller to manage the registration of event listeners for submenus. */\nexport class SubmenuController implements ReactiveController {\n  private host: ReactiveControllerHost & FlpMenuItem;\n  private popupRef: Ref<FlpPopup> = createRef();\n  private enableSubmenuTimer = -1;\n  private isConnected = false;\n  private isPopupConnected = false;\n  private skidding = 0;\n  private readonly hasSlotController: HasSlotController;\n  private readonly submenuOpenDelay = 100;\n\n  constructor(\n    host: ReactiveControllerHost & FlpMenuItem,\n    hasSlotController: HasSlotController,\n  ) {\n    (this.host = host).addController(this);\n    this.hasSlotController = hasSlotController;\n  }\n\n  hostConnected() {\n    if (this.hasSlotController.test('submenu') && !this.host.disabled) {\n      this.addListeners();\n    }\n  }\n\n  hostDisconnected() {\n    this.removeListeners();\n  }\n\n  hostUpdated() {\n    if (this.hasSlotController.test('submenu') && !this.host.disabled) {\n      this.addListeners();\n      this.updateSkidding();\n    } else {\n      this.removeListeners();\n    }\n  }\n\n  private addListeners() {\n    if (!this.isConnected) {\n      this.host.addEventListener('mousemove', this.handleMouseMove);\n      this.host.addEventListener('mouseover', this.handleMouseOver);\n      this.host.addEventListener('keydown', this.handleKeyDown);\n      this.host.addEventListener('click', this.handleClick);\n      this.host.addEventListener('focusout', this.handleFocusOut);\n      this.isConnected = true;\n    }\n\n    // The popup does not seem to get wired when the host is\n    // connected, so manage its listeners separately.\n    if (!this.isPopupConnected) {\n      if (this.popupRef.value) {\n        this.popupRef.value.addEventListener('mouseover', this.handlePopupMouseover);\n        this.popupRef.value.addEventListener('sl-reposition', this.handlePopupReposition);\n        this.isPopupConnected = true;\n      }\n    }\n  }\n\n  private removeListeners() {\n    if (this.isConnected) {\n      this.host.removeEventListener('mousemove', this.handleMouseMove);\n      this.host.removeEventListener('mouseover', this.handleMouseOver);\n      this.host.removeEventListener('keydown', this.handleKeyDown);\n      this.host.removeEventListener('click', this.handleClick);\n      this.host.removeEventListener('focusout', this.handleFocusOut);\n      this.isConnected = false;\n    }\n    if (this.isPopupConnected) {\n      if (this.popupRef.value) {\n        this.popupRef.value.removeEventListener('mouseover', this.handlePopupMouseover);\n        this.popupRef.value.removeEventListener('sl-reposition', this.handlePopupReposition);\n        this.isPopupConnected = false;\n      }\n    }\n  }\n\n  // Set the safe triangle cursor position\n  private handleMouseMove = (event: MouseEvent) => {\n    this.host.style.setProperty('--safe-triangle-cursor-x', `${event.clientX}px`);\n    this.host.style.setProperty('--safe-triangle-cursor-y', `${event.clientY}px`);\n  };\n\n  private handleMouseOver = () => {\n    if (this.hasSlotController.test('submenu')) {\n      this.enableSubmenu();\n    }\n  };\n\n  private handleSubmenuEntry(event: KeyboardEvent) {\n    // Pass focus to the first menu-item in the submenu.\n    const submenuSlot: HTMLSlotElement | null = this.host.renderRoot.querySelector(\"slot[name='submenu']\");\n\n    // Missing slot\n    if (!submenuSlot) {\n      console.error('Cannot activate a submenu if no corresponding menuitem can be found.', this);\n      return;\n    }\n\n    // Menus\n    let menuItems: NodeListOf<Element> | null = null;\n    for (const elt of submenuSlot.assignedElements()) {\n      menuItems = elt.querySelectorAll(\"sl-menu-item, [role^='menuitem']\");\n      if (menuItems.length !== 0) {\n        break;\n      }\n    }\n\n    if (!menuItems || menuItems.length === 0) {\n      return;\n    }\n\n    menuItems[0].setAttribute('tabindex', '0');\n    for (let i = 1; i !== menuItems.length; ++i) {\n      menuItems[i].setAttribute('tabindex', '-1');\n    }\n\n    // Open the submenu (if not open), and set focus to first menuitem.\n    if (this.popupRef.value) {\n      event.preventDefault();\n      event.stopPropagation();\n      if (this.popupRef.value.active) {\n        if (menuItems[0] instanceof HTMLElement) {\n          menuItems[0].focus();\n        }\n      } else {\n        this.enableSubmenu(false);\n        this.host.updateComplete.then(() => {\n          if (menuItems![0] instanceof HTMLElement) {\n            menuItems![0].focus();\n          }\n        });\n        this.host.requestUpdate();\n      }\n    }\n  }\n\n  // Focus on the first menu-item of a submenu.\n  private handleKeyDown = (event: KeyboardEvent) => {\n    switch (event.key) {\n      case 'Escape':\n      case 'Tab':\n        this.disableSubmenu();\n        break;\n      case 'ArrowLeft':\n        // Either focus is currently on the host element or a child\n        if (event.target !== this.host) {\n          event.preventDefault();\n          event.stopPropagation();\n          this.host.focus();\n          this.disableSubmenu();\n        }\n        break;\n      case 'ArrowRight':\n      case 'Enter':\n      case ' ':\n        this.handleSubmenuEntry(event);\n        break;\n      default:\n        break;\n    }\n  };\n\n  private handleClick = (event: MouseEvent) => {\n    // Clicking on the item which heads the menu does nothing, otherwise hide submenu and propagate\n    if (event.target === this.host) {\n      event.preventDefault();\n      event.stopPropagation();\n    } else if (\n      event.target instanceof Element &&\n      (event.target.tagName === 'sl-menu-item' || event.target.role?.startsWith('menuitem'))\n    ) {\n      this.disableSubmenu();\n    }\n  };\n\n  // Close this submenu on focus outside of the parent or any descendants.\n  private handleFocusOut = (event: FocusEvent) => {\n    if (event.relatedTarget && event.relatedTarget instanceof Element && this.host.contains(event.relatedTarget)) {\n      return;\n    }\n    this.disableSubmenu();\n  };\n\n  // Prevent the parent menu-item from getting focus on mouse movement on the submenu\n  private handlePopupMouseover = (event: MouseEvent) => {\n    event.stopPropagation();\n  };\n\n  // Set the safe triangle values for the submenu when the position changes\n  private handlePopupReposition = () => {\n    const submenuSlot: HTMLSlotElement | null = this.host.renderRoot.querySelector(\"slot[name='submenu']\");\n    const menu = submenuSlot?.assignedElements({ flatten: true }).filter(el => el.localName === 'sl-menu')[0];\n    const isRtl = false;\n\n    if (!menu) {\n      return;\n    }\n\n    const { left, top, width, height } = menu.getBoundingClientRect();\n\n    this.host.style.setProperty('--safe-triangle-submenu-start-x', `${isRtl ? left + width : left}px`);\n    this.host.style.setProperty('--safe-triangle-submenu-start-y', `${top}px`);\n    this.host.style.setProperty('--safe-triangle-submenu-end-x', `${isRtl ? left + width : left}px`);\n    this.host.style.setProperty('--safe-triangle-submenu-end-y', `${top + height}px`);\n  };\n\n  private setSubmenuState(state: boolean) {\n    if (this.popupRef.value) {\n      if (this.popupRef.value.active !== state) {\n        this.popupRef.value.active = state;\n        this.host.requestUpdate();\n      }\n    }\n  }\n\n  // Shows the submenu. Supports disabling the opening delay, e.g. for keyboard events that want to set the focus to the\n  // newly opened menu.\n  private enableSubmenu(delay = true) {\n    if (delay) {\n      this.enableSubmenuTimer = window.setTimeout(() => {\n        this.setSubmenuState(true);\n      }, this.submenuOpenDelay);\n    } else {\n      this.setSubmenuState(true);\n    }\n  }\n\n  private disableSubmenu() {\n    clearTimeout(this.enableSubmenuTimer);\n    this.setSubmenuState(false);\n  }\n\n  // Calculate the space the top of a menu takes-up, for aligning the popup menu-item with the activating element.\n  private updateSkidding(): void {\n    // .computedStyleMap() not always available.\n    if (!this.host.parentElement?.computedStyleMap) {\n      return;\n    }\n    const styleMap: StylePropertyMapReadOnly = this.host.parentElement.computedStyleMap();\n    const attrs: string[] = ['padding-top', 'border-top-width', 'margin-top'];\n\n    const skidding = attrs.reduce((accumulator, attr) => {\n      const styleValue: CSSStyleValue = styleMap.get(attr) ?? new CSSUnitValue(0, 'px');\n      const unitValue = styleValue instanceof CSSUnitValue ? styleValue : new CSSUnitValue(0, 'px');\n      const pxValue = unitValue.to('px');\n      return accumulator - pxValue.value;\n    }, 0);\n\n    this.skidding = skidding;\n  }\n\n  isExpanded(): boolean {\n    return this.popupRef.value ? this.popupRef.value.active : false;\n  }\n\n  renderSubmenu() {\n    const isLtr = true;\n\n    // Always render the slot, but conditionally render the outer <sl-popup>\n    if (!this.isConnected) {\n      return html` <slot name=\"submenu\" hidden></slot> `;\n    }\n\n    return html`\n      <sl-popup\n        ${ref(this.popupRef)}\n        placement=${isLtr ? 'right-start' : 'left-start'}\n        anchor=\"anchor\"\n        flip\n        flip-fallback-strategy=\"best-fit\"\n        skidding=\"${this.skidding}\"\n        strategy=\"fixed\"\n      >\n        <slot name=\"submenu\"></slot>\n      </sl-popup>\n    `;\n  }\n}\n","import { CSSResultGroup, html } from 'lit';\nimport FlpElement from '../../utils/flippico-element';\nimport {customElement, property, query} from 'lit/decorators.js';\n\nimport { flippico } from './flp-menu-item.styles';\nimport { HasSlotController, getTextContent } from '../../utils/slot';\nimport { SubmenuController } from './submenu-controller';\nimport { watch } from '../../utils/watch';\nimport { classMap } from 'lit/directives/class-map.js';\n\n/**\n * @summary This the flp-menu-item component\n *\n * @tag flp-menu-item\n */\n @customElement(\"flp-menu-item\")\nexport class FlpMenuItem extends FlpElement {\n  static styles: CSSResultGroup = [flippico];\n\n  private cachedTextLabel: string;\n\n  @query('slot:not([name])') defaultSlot: HTMLSlotElement;\n  @query('.menu-item') menuItem: HTMLElement;\n\n  /** The type of menu item to render. To use `checked`, this value must be set to `checkbox`. */\n  @property() type: 'normal' | 'checkbox' = 'normal';\n\n  /** Draws the item in a checked state. */\n  @property({ type: Boolean, reflect: true }) checked = false;\n\n  /** A unique value to store in the menu item. This can be used as a way to identify menu items when selected. */\n  @property() value = '';\n\n  /** Draws the menu item in a loading state. */\n  @property({ type: Boolean, reflect: true }) loading = false;\n\n  /** Draws the menu item in a disabled state, preventing selection. */\n  @property({ type: Boolean, reflect: true }) disabled = false;\n\n  private readonly hasSlotController = new HasSlotController(this, 'submenu');\n  private submenuController: SubmenuController = new SubmenuController(this, this.hasSlotController);\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.addEventListener('click', this.handleHostClick);\n    this.addEventListener('mouseover', this.handleMouseOver);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.removeEventListener('click', this.handleHostClick);\n    this.removeEventListener('mouseover', this.handleMouseOver);\n  }\n\n  private handleDefaultSlotChange() {\n    const textLabel = this.getTextLabel();\n\n    // Ignore the first time the label is set\n    if (typeof this.cachedTextLabel === 'undefined') {\n      this.cachedTextLabel = textLabel;\n      return;\n    }\n\n    // When the label changes, emit a slotchange event so parent controls see it\n    if (textLabel !== this.cachedTextLabel) {\n      this.cachedTextLabel = textLabel;\n      this.emit('slotchange', { bubbles: true, composed: false, cancelable: false });\n    }\n  }\n\n  private handleHostClick = (event: MouseEvent) => {\n    // Prevent the click event from being emitted when the button is disabled or loading\n    if (this.disabled) {\n      event.preventDefault();\n      event.stopImmediatePropagation();\n    }\n  };\n\n  private handleMouseOver = (event: MouseEvent) => {\n    this.focus();\n    event.stopPropagation();\n  };\n\n  @watch('checked')\n  handleCheckedChange() {\n    // For proper accessibility, users have to use type=\"checkbox\" to use the checked attribute\n    if (this.checked && this.type !== 'checkbox') {\n      this.checked = false;\n      console.error('The checked attribute can only be used on menu items with type=\"checkbox\"', this);\n      return;\n    }\n\n    // Only checkbox types can receive the aria-checked attribute\n    if (this.type === 'checkbox') {\n      this.setAttribute('aria-checked', this.checked ? 'true' : 'false');\n    } else {\n      this.removeAttribute('aria-checked');\n    }\n  }\n\n  @watch('disabled')\n  handleDisabledChange() {\n    this.setAttribute('aria-disabled', this.disabled ? 'true' : 'false');\n  }\n\n  @watch('type')\n  handleTypeChange() {\n    if (this.type === 'checkbox') {\n      this.setAttribute('role', 'menuitemcheckbox');\n      this.setAttribute('aria-checked', this.checked ? 'true' : 'false');\n    } else {\n      this.setAttribute('role', 'menuitem');\n      this.removeAttribute('aria-checked');\n    }\n  }\n\n  /** Returns a text label based on the contents of the menu item's default slot. */\n  getTextLabel() {\n    return getTextContent(this.defaultSlot);\n  }\n\n  isSubmenu() {\n    return this.hasSlotController.test('submenu');\n  }\n\n  render() {\n    const isRtl = false;\n    const isSubmenuExpanded = this.submenuController.isExpanded();\n\n    return html`\n      <div\n        id=\"anchor\"\n        part=\"base\"\n        class=${classMap({\n          'menu-item': true,\n          'menu-item--rtl': isRtl,\n          'menu-item--checked': this.checked,\n          'menu-item--disabled': this.disabled,\n          'menu-item--loading': this.loading,\n          'menu-item--has-submenu': this.isSubmenu(),\n          'menu-item--submenu-expanded': isSubmenuExpanded\n        })}\n        ?aria-haspopup=\"${this.isSubmenu()}\"\n        ?aria-expanded=\"${isSubmenuExpanded ? true : false}\"\n      >\n        <span part=\"checked-icon\" class=\"menu-item__check\">\n          <flp-icon name=\"check\" library=\"system\" aria-hidden=\"true\"></flp-icon>\n        </span>\n\n        <slot name=\"prefix\" part=\"prefix\" class=\"menu-item__prefix\"></slot>\n\n        <slot part=\"label\" class=\"menu-item__label\" @slotchange=${this.handleDefaultSlotChange}></slot>\n\n        <slot name=\"suffix\" part=\"suffix\" class=\"menu-item__suffix\"></slot>\n\n        <span part=\"submenu-icon\" class=\"menu-item__chevron\">\n          <flp-icon name=${isRtl ? 'chevron-left' : 'chevron-right'} library=\"system\" aria-hidden=\"true\"></flp-icon>\n        </span>\n\n        ${this.submenuController.renderSubmenu()}\n        ${this.loading ? html` <flp-spinner part=\"spinner\" exportparts=\"base:spinner__base\"></flp-spinner> ` : ''}\n      </div>\n    `;\n  }\n}\n"],"names":["flippico","css","componentStyles","FlpMenu","FlpElement","event","menuItemTypes","target","el","_a","item","items","activeItem","index","i","html","__decorateClass","query","customElement","s","t","e","o","r","c","h","n","f","_b","SubmenuController","host","hasSlotController","createRef","submenuSlot","menu","left","top","width","height","menuItems","elt","state","delay","styleMap","skidding","accumulator","attr","styleValue","pxValue","ref","FlpMenuItem","HasSlotController","textLabel","getTextContent","isSubmenuExpanded","classMap","property","watch"],"mappings":"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","x_google_ignoreList":[3,4]}