{"version":3,"file":"default-value-B18UwA06.js","sources":["../src/utils/default-value.ts"],"sourcesContent":["import { defaultConverter } from 'lit';\nimport type { ReactiveElement } from 'lit';\n\nexport const defaultValue =\n  (propertyName = 'value') =>\n  (proto: ReactiveElement, key: string) => {\n    const ctor = proto.constructor as typeof ReactiveElement;\n\n    const attributeChangedCallback = ctor.prototype.attributeChangedCallback;\n    ctor.prototype.attributeChangedCallback = function (\n      this: ReactiveElement & { [name: string]: unknown },\n      name,\n      old,\n      value\n    ) {\n      const options = ctor.getPropertyOptions(propertyName);\n      const attributeName = typeof options.attribute === 'string' ? options.attribute : propertyName;\n\n      if (name === attributeName) {\n        const converter = options.converter || defaultConverter;\n        const fromAttribute =\n          typeof converter === 'function' ? converter : converter?.fromAttribute ?? defaultConverter.fromAttribute;\n\n        const newValue: unknown = fromAttribute!(value, options.type);\n\n        if (this[propertyName] !== newValue) {\n          this[key] = newValue;\n        }\n      }\n\n      attributeChangedCallback.call(this, name, old, value);\n    };\n  };\n"],"names":["defaultValue","propertyName","proto","key","ctor","attributeChangedCallback","name","old","value","options","attributeName","converter","defaultConverter","newValue"],"mappings":"8CAGO,MAAMA,EACX,CAACC,EAAe,UAChB,CAACC,EAAwBC,IAAgB,CACvC,MAAMC,EAAOF,EAAM,YAEbG,EAA2BD,EAAK,UAAU,yBAChDA,EAAK,UAAU,yBAA2B,SAExCE,EACAC,EACAC,EACA,CACM,MAAAC,EAAUL,EAAK,mBAAmBH,CAAY,EAC9CS,EAAgB,OAAOD,EAAQ,WAAc,SAAWA,EAAQ,UAAYR,EAElF,GAAIK,IAASI,EAAe,CACpB,MAAAC,EAAYF,EAAQ,WAAaG,EAIjCC,GAFJ,OAAOF,GAAc,WAAaA,GAAYA,GAAA,YAAAA,EAAW,gBAAiBC,EAAiB,eAEpDJ,EAAOC,EAAQ,IAAI,EAExD,KAAKR,CAAY,IAAMY,IACzB,KAAKV,CAAG,EAAIU,EACd,CAGFR,EAAyB,KAAK,KAAMC,EAAMC,EAAKC,CAAK,CACtD,CACF"}