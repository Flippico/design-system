function d(e,n,r){return new Promise(t=>{if((r==null?void 0:r.duration)===1/0)throw new Error("Promise-based animations must be finite.");const i=e.animate(n,{...r,duration:s()?0:r.duration});i.addEventListener("cancel",t,{once:!0}),i.addEventListener("finish",t,{once:!0})})}function s(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function f(e){return Promise.all(e.getAnimations().map(n=>new Promise(r=>{const t=requestAnimationFrame(r);n.addEventListener("cancel",()=>t,{once:!0}),n.addEventListener("finish",()=>t,{once:!0}),n.cancel()})))}const a=new Map,u=new WeakMap;function c(e){return e??{keyframes:[],options:{duration:0}}}function o(e,n){return n.toLowerCase()==="rtl"?{keyframes:e.rtlKeyframes||e.keyframes,options:e.options}:e}function m(e,n){a.set(e,c(n))}function w(e,n,r){const t=u.get(e);if(t!=null&&t[n])return o(t[n],r.dir);const i=a.get(n);return i?o(i,r.dir):{keyframes:[],options:{duration:0}}}function g(e,n){return new Promise(r=>{function t(i){i.target===e&&(e.removeEventListener(n,t),r())}e.addEventListener(n,t)})}export{d as a,m as b,w as g,f as s,g as w};
//# sourceMappingURL=event-DI7budSv.js.map
