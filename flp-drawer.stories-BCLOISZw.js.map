{"version":3,"file":"flp-drawer.stories-BCLOISZw.js","sources":["../src/components/flp-drawer/flp-drawer.styles.ts","../src/utils/string.ts","../src/components/flp-drawer/flp-drawer.ts"],"sourcesContent":["import { css } from 'lit';\nimport componentStyles from '../../styles/component.styles';\n\nexport const flippico = css`\n${componentStyles}\n\n:host {\n  --size: 25rem;\n  --header-spacing: var(--flp-spacing-large);\n  --body-spacing: var(--flp-spacing-large);\n  --footer-spacing: var(--flp-spacing-large);\n\n  display: contents;\n}\n\n.drawer {\n  top: 0;\n  inset-inline-start: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  overflow: hidden;\n}\n\n.drawer--contained {\n  position: absolute;\n  z-index: initial;\n}\n\n.drawer--fixed {\n  position: fixed;\n  z-index: var(--flp-z-index-drawer);\n}\n\n.drawer__panel {\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  z-index: 2;\n  max-width: 100%;\n  max-height: 100%;\n  background-color: var(--flp-panel-background-color);\n  box-shadow: var(--flp-shadow-x-large);\n  overflow: auto;\n  pointer-events: all;\n}\n\n.drawer__panel:focus {\n  outline: none;\n}\n\n.drawer--top .drawer__panel {\n  top: 0;\n  inset-inline-end: auto;\n  bottom: auto;\n  inset-inline-start: 0;\n  width: 100%;\n  height: var(--size);\n}\n\n.drawer--end .drawer__panel {\n  top: 0;\n  inset-inline-end: 0;\n  bottom: auto;\n  inset-inline-start: auto;\n  width: var(--size);\n  height: 100%;\n}\n\n.drawer--bottom .drawer__panel {\n  top: auto;\n  inset-inline-end: auto;\n  bottom: 0;\n  inset-inline-start: 0;\n  width: 100%;\n  height: var(--size);\n}\n\n.drawer--start .drawer__panel {\n  top: 0;\n  inset-inline-end: auto;\n  bottom: auto;\n  inset-inline-start: 0;\n  width: var(--size);\n  height: 100%;\n}\n\n.drawer__header {\n  display: flex;\n}\n\n.drawer__title {\n  flex: 1 1 auto;\n  font: inherit;\n  font-size: var(--flp-font-size-large);\n  line-height: var(--flp-line-height-dense);\n  padding: var(--header-spacing);\n  margin: 0;\n}\n\n.drawer__header-actions {\n  flex-shrink: 0;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: end;\n  gap: var(--flp-spacing-2x-small);\n  padding: 0 var(--header-spacing);\n}\n\n.drawer__header-actions sl-icon-button,\n.drawer__header-actions ::slotted(sl-icon-button) {\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n  font-size: var(--flp-font-size-medium);\n}\n\n.drawer__body {\n  flex: 1 1 auto;\n  display: block;\n  padding: var(--body-spacing);\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n}\n\n.drawer__footer {\n  text-align: right;\n  padding: var(--footer-spacing);\n}\n\n.drawer__footer ::slotted(sl-button:not(:last-of-type)) {\n  margin-inline-end: var(--flp-spacing-x-small);\n}\n\n.drawer:not(.drawer--has-footer) .drawer__footer {\n  display: none;\n}\n\n.drawer__overlay {\n  display: block;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: var(--flp-overlay-background-color);\n  pointer-events: all;\n}\n\n.drawer--contained .drawer__overlay {\n  display: none;\n}\n\n@media (forced-colors: active) {\n  .drawer__panel {\n    border: solid 1px var(--flp-color-neutral-0);\n  }\n}\n`;","/** Converts the first letter of a string to uppercase */\nexport function uppercaseFirstLetter(string: string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n","import { CSSResultGroup, html } from 'lit';\nimport FlpElement from '../../utils/flippico-element';\nimport {customElement, property, query} from 'lit/decorators.js';\n\nimport { flippico } from './flp-drawer.styles';\nimport { HasSlotController } from '../../utils/slot';\nimport ModalRaw from '../../utils/modal-raw';\nimport { lockBodyScrolling, unlockBodyScrolling } from '../../utils/scroll';\nimport { getAnimation, setDefaultAnimation } from '../../utils/animation-registry';\nimport { animateTo, stopAnimations } from '../../utils/animate';\nimport { watch } from '../../utils/watch';\nimport { waitForEvent } from '../../utils/event';\nimport { classMap } from 'lit/directives/class-map.js';\nimport { ifDefined } from 'lit/directives/if-defined.js';\nimport { uppercaseFirstLetter } from '../../utils/string';\n\n/**\n * @summary This the flp-drawer component\n *\n * @tag flp-drawer\n */\n @customElement(\"flp-drawer\")\nexport class FlpDrawer extends FlpElement {\n  static styles: CSSResultGroup = [flippico];\n\n  private readonly hasSlotController = new HasSlotController(this, 'footer');\n  private originalTrigger: HTMLElement | null;\n  public modal = new ModalRaw(this);\n\n  @query('.drawer') drawer: HTMLElement;\n  @query('.drawer__panel') panel: HTMLElement;\n  @query('.drawer__overlay') overlay: HTMLElement;\n\n  /**\n   * Indicates whether or not the drawer is open. You can toggle this attribute to show and hide the drawer, or you can\n   * use the `show()` and `hide()` methods and this attribute will reflect the drawer's open state.\n   */\n  @property({ type: Boolean, reflect: true }) open = false;\n\n  /**\n   * The drawer's label as displayed in the header. You should always include a relevant label even when using\n   * `no-header`, as it is required for proper accessibility. If you need to display HTML, use the `label` slot instead.\n   */\n  @property({ reflect: true }) label = '';\n\n  /** The direction from which the drawer will open. */\n  @property({ reflect: true }) placement: 'top' | 'end' | 'bottom' | 'start' = 'end';\n\n  /**\n   * By default, the drawer slides out of its containing block (usually the viewport). To make the drawer slide out of\n   * its parent element, set this attribute and add `position: relative` to the parent.\n   */\n  @property({ type: Boolean, reflect: true }) contained = false;\n\n  /**\n   * Removes the header. This will also remove the default close button, so please ensure you provide an easy,\n   * accessible way for users to dismiss the drawer.\n   */\n  @property({ attribute: 'no-header', type: Boolean, reflect: true }) noHeader = false;\n\n  firstUpdated() {\n    this.drawer.hidden = !this.open;\n\n    if (this.open) {\n      this.addOpenListeners();\n\n      if (!this.contained) {\n        this.modal.activate();\n        lockBodyScrolling(this);\n      }\n    }\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    unlockBodyScrolling(this);\n  }\n\n  private requestClose(source: 'close-button' | 'keyboard' | 'overlay') {\n    const slRequestClose = this.emit('flp-request-close', {\n      cancelable: true,\n      detail: { source }\n    });\n\n    if (slRequestClose.defaultPrevented) {\n      const animation = getAnimation(this, 'drawer.denyClose', { dir: 'ltr' });\n      animateTo(this.panel, animation.keyframes, animation.options);\n      return;\n    }\n\n    this.hide();\n  }\n\n  private addOpenListeners() {\n    document.addEventListener('keydown', this.handleDocumentKeyDown);\n  }\n\n  private removeOpenListeners() {\n    document.removeEventListener('keydown', this.handleDocumentKeyDown);\n  }\n\n  private handleDocumentKeyDown = (event: KeyboardEvent) => {\n    // Contained drawers aren't modal and don't response to the escape key\n    if (this.contained) {\n      return;\n    }\n\n    if (event.key === 'Escape' && this.modal.isActive() && this.open) {\n      event.stopImmediatePropagation();\n      this.requestClose('keyboard');\n    }\n  };\n\n  @watch('open', { waitUntilFirstUpdate: true })\n  async handleOpenChange() {\n    if (this.open) {\n      // Show\n      this.emit('flp-show');\n      this.addOpenListeners();\n      this.originalTrigger = document.activeElement as HTMLElement;\n\n      // Lock body scrolling only if the drawer isn't contained\n      if (!this.contained) {\n        this.modal.activate();\n        lockBodyScrolling(this);\n      }\n\n      // When the drawer is shown, Safari will attempt to set focus on whatever element has autofocus. This causes the\n      // drawer's animation to jitter, so we'll temporarily remove the attribute, call `focus({ preventScroll: true })`\n      // ourselves, and add the attribute back afterwards.\n      //\n      // Related: https://github.com/shoelace-style/shoelace/issues/693\n      //\n      const autoFocusTarget = this.querySelector('[autofocus]');\n      if (autoFocusTarget) {\n        autoFocusTarget.removeAttribute('autofocus');\n      }\n\n      await Promise.all([stopAnimations(this.drawer), stopAnimations(this.overlay)]);\n      this.drawer.hidden = false;\n\n      // Set initial focus\n      requestAnimationFrame(() => {\n        const slInitialFocus = this.emit('flp-initial-focus', { cancelable: true });\n\n        if (!slInitialFocus.defaultPrevented) {\n          // Set focus to the autofocus target and restore the attribute\n          if (autoFocusTarget) {\n            (autoFocusTarget as HTMLInputElement).focus({ preventScroll: true });\n          } else {\n            this.panel.focus({ preventScroll: true });\n          }\n        }\n\n        // Restore the autofocus attribute\n        if (autoFocusTarget) {\n          autoFocusTarget.setAttribute('autofocus', '');\n        }\n      });\n\n      const panelAnimation = getAnimation(this, `drawer.show${uppercaseFirstLetter(this.placement)}`, {\n        dir: 'ltr',\n      });\n      const overlayAnimation = getAnimation(this, 'drawer.overlay.show', { dir: 'ltr' });\n      await Promise.all([\n        animateTo(this.panel, panelAnimation.keyframes, panelAnimation.options),\n        animateTo(this.overlay, overlayAnimation.keyframes, overlayAnimation.options)\n      ]);\n\n      this.emit('flp-after-show');\n    } else {\n      // Hide\n      this.emit('flp-hide');\n      this.removeOpenListeners();\n\n      if (!this.contained) {\n        this.modal.deactivate();\n        unlockBodyScrolling(this);\n      }\n\n      await Promise.all([stopAnimations(this.drawer), stopAnimations(this.overlay)]);\n      const panelAnimation = getAnimation(this, `drawer.hide${uppercaseFirstLetter(this.placement)}`, {\n        dir: 'ltr'\n      });\n      const overlayAnimation = getAnimation(this, 'drawer.overlay.hide', { dir: 'ltr' });\n\n      // Animate the overlay and the panel at the same time. Because animation durations might be different, we need to\n      // hide each one individually when the animation finishes, otherwise the first one that finishes will reappear\n      // unexpectedly. We'll unhide them after all animations have completed.\n      await Promise.all([\n        animateTo(this.overlay, overlayAnimation.keyframes, overlayAnimation.options).then(() => {\n          this.overlay.hidden = true;\n        }),\n        animateTo(this.panel, panelAnimation.keyframes, panelAnimation.options).then(() => {\n          this.panel.hidden = true;\n        })\n      ]);\n\n      this.drawer.hidden = true;\n\n      // Now that the dialog is hidden, restore the overlay and panel for next time\n      this.overlay.hidden = false;\n      this.panel.hidden = false;\n\n      // Restore focus to the original trigger\n      const trigger = this.originalTrigger;\n      if (typeof trigger?.focus === 'function') {\n        setTimeout(() => trigger.focus());\n      }\n\n      this.emit('flp-after-hide');\n    }\n  }\n\n  @watch('contained', { waitUntilFirstUpdate: true })\n  handleNoModalChange() {\n    if (this.open && !this.contained) {\n      this.modal.activate();\n      lockBodyScrolling(this);\n    }\n\n    if (this.open && this.contained) {\n      this.modal.deactivate();\n      unlockBodyScrolling(this);\n    }\n  }\n\n  /** Shows the drawer. */\n  async show() {\n    if (this.open) {\n      return undefined;\n    }\n\n    this.open = true;\n    return waitForEvent(this, 'flp-after-show');\n  }\n\n  /** Hides the drawer */\n  async hide() {\n    if (!this.open) {\n      return undefined;\n    }\n\n    this.open = false;\n    return waitForEvent(this, 'flp-after-hide');\n  }\n\n  render() {\n    return html`\n      <div\n        part=\"base\"\n        class=${classMap({\n          drawer: true,\n          'drawer--open': this.open,\n          'drawer--top': this.placement === 'top',\n          'drawer--end': this.placement === 'end',\n          'drawer--bottom': this.placement === 'bottom',\n          'drawer--start': this.placement === 'start',\n          'drawer--contained': this.contained,\n          'drawer--fixed': !this.contained,\n          'drawer--rtl': false,\n          'drawer--has-footer': this.hasSlotController.test('footer')\n        })}\n      >\n        <div part=\"overlay\" class=\"drawer__overlay\" @click=${() => this.requestClose('overlay')} tabindex=\"-1\"></div>\n\n        <div\n          part=\"panel\"\n          class=\"drawer__panel\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-hidden=${this.open ? 'false' : 'true'}\n          aria-label=${ifDefined(this.noHeader ? this.label : undefined)}\n          aria-labelledby=${ifDefined(!this.noHeader ? 'title' : undefined)}\n          tabindex=\"0\"\n        >\n          ${!this.noHeader\n            ? html`\n                <header part=\"header\" class=\"drawer__header\">\n                  <h2 part=\"title\" class=\"drawer__title\" id=\"title\">\n                    <!-- If there's no label, use an invisible character to prevent the header from collapsing -->\n                    <slot name=\"label\"> ${this.label.length > 0 ? this.label : String.fromCharCode(65279)} </slot>\n                  </h2>\n                  <div part=\"header-actions\" class=\"drawer__header-actions\">\n                    <slot name=\"header-actions\"></slot>\n                    <flp-icon-button\n                      part=\"close-button\"\n                      exportparts=\"base:close-button__base\"\n                      class=\"drawer__close\"\n                      name=\"x-lg\"\n                      label=\"close\"\n                      library=\"system\"\n                      @click=${() => this.requestClose('close-button')}\n                    ></flp-icon-button>\n                  </div>\n                </header>\n              `\n            : ''}\n\n          <slot part=\"body\" class=\"drawer__body\"></slot>\n\n          <footer part=\"footer\" class=\"drawer__footer\">\n            <slot name=\"footer\"></slot>\n          </footer>\n        </div>\n      </div>\n    `;\n  }\n}\n\n// Top\nsetDefaultAnimation('drawer.showTop', {\n  keyframes: [\n    { opacity: 0, translate: '0 -100%' },\n    { opacity: 1, translate: '0 0' }\n  ],\n  options: { duration: 250, easing: 'ease' }\n});\n\nsetDefaultAnimation('drawer.hideTop', {\n  keyframes: [\n    { opacity: 1, translate: '0 0' },\n    { opacity: 0, translate: '0 -100%' }\n  ],\n  options: { duration: 250, easing: 'ease' }\n});\n\n// End\nsetDefaultAnimation('drawer.showEnd', {\n  keyframes: [\n    { opacity: 0, translate: '100%' },\n    { opacity: 1, translate: '0' }\n  ],\n  rtlKeyframes: [\n    { opacity: 0, translate: '-100%' },\n    { opacity: 1, translate: '0' }\n  ],\n  options: { duration: 250, easing: 'ease' }\n});\n\nsetDefaultAnimation('drawer.hideEnd', {\n  keyframes: [\n    { opacity: 1, translate: '0' },\n    { opacity: 0, translate: '100%' }\n  ],\n  rtlKeyframes: [\n    { opacity: 1, translate: '0' },\n    { opacity: 0, translate: '-100%' }\n  ],\n  options: { duration: 250, easing: 'ease' }\n});\n\n// Bottom\nsetDefaultAnimation('drawer.showBottom', {\n  keyframes: [\n    { opacity: 0, translate: '0 100%' },\n    { opacity: 1, translate: '0 0' }\n  ],\n  options: { duration: 250, easing: 'ease' }\n});\n\nsetDefaultAnimation('drawer.hideBottom', {\n  keyframes: [\n    { opacity: 1, translate: '0 0' },\n    { opacity: 0, translate: '0 100%' }\n  ],\n  options: { duration: 250, easing: 'ease' }\n});\n\n// Start\nsetDefaultAnimation('drawer.showStart', {\n  keyframes: [\n    { opacity: 0, translate: '-100%' },\n    { opacity: 1, translate: '0' }\n  ],\n  rtlKeyframes: [\n    { opacity: 0, translate: '100%' },\n    { opacity: 1, translate: '0' }\n  ],\n  options: { duration: 250, easing: 'ease' }\n});\n\nsetDefaultAnimation('drawer.hideStart', {\n  keyframes: [\n    { opacity: 1, translate: '0' },\n    { opacity: 0, translate: '-100%' }\n  ],\n  rtlKeyframes: [\n    { opacity: 1, translate: '0' },\n    { opacity: 0, translate: '100%' }\n  ],\n  options: { duration: 250, easing: 'ease' }\n});\n\n// Deny close\nsetDefaultAnimation('drawer.denyClose', {\n  keyframes: [{ scale: 1 }, { scale: 1.01 }, { scale: 1 }],\n  options: { duration: 250 }\n});\n\n// Overlay\nsetDefaultAnimation('drawer.overlay.show', {\n  keyframes: [{ opacity: 0 }, { opacity: 1 }],\n  options: { duration: 250 }\n});\n\nsetDefaultAnimation('drawer.overlay.hide', {\n  keyframes: [{ opacity: 1 }, { opacity: 0 }],\n  options: { duration: 250 }\n});\n"],"names":["flippico","css","componentStyles","uppercaseFirstLetter","string","FlpDrawer","FlpElement","HasSlotController","ModalRaw","event","lockBodyScrolling","unlockBodyScrolling","source","animation","getAnimation","animateTo","autoFocusTarget","stopAnimations","panelAnimation","overlayAnimation","trigger","waitForEvent","html","classMap","ifDefined","__decorateClass","query","property","watch","customElement","setDefaultAnimation"],"mappings":"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"}